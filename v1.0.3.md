# v1.0.3 Roadmap: Commentary-First Agent Experience

Date: 2026-02-18
Status: In progress

## Goal
Make Bolt.gives the most transparent coding agent experience: users should always see what the agent is doing, why it is doing it, and what happened next.

This release is focused on beating the best current UX patterns (Replit, Loveable, Bolt.new) in:
- Live commentary quality
- Execution transparency
- Recovery clarity
- Trust and auditability

## Core Product Outcomes

- [ ] Commentary appears fast and continuously during runs
- [ ] Commentary is visually and structurally distinct from code/actions
- [ ] Runs expose clear phase transitions (Plan -> Doing -> Verifying -> Next)
- [ ] Users can inspect exact action history and outcomes without ambiguity
- [ ] Failures are explicit, actionable, and never falsely reported as success

## v1.0.3 Scope

### P0.1 Commentary Cards + Phase Model
- [ ] Add normalized commentary event types and phase metadata.
- [ ] Render commentary as dedicated cards separate from tool/action rows.
- [ ] Show phase badges and clear transitions:
  - Plan
  - Doing
  - Verifying
  - Next

### P0.2 Enforced Commentary Format Contract
- [ ] Add server-side prompt contract for concise live updates:
  - short micro-updates during execution
  - periodic numbered `Key changes:` summaries
  - one explicit `Next:` line
- [ ] Add regression tests for formatting contract output.

### P0.3 Sticky Working Footer
- [ ] Add always-visible execution footer with:
  - active model + provider
  - current phase and step number
  - elapsed run time
  - action count
  - recovery status (if active)
- [ ] Ensure footer updates without requiring scroll.

### P0.4 First-Class Checkpoint Events
- [ ] Surface checkpoint events directly in timeline:
  - checkpoint created
  - dependency install complete
  - preview ready
  - tests passed/failed
  - deployment started/completed
- [ ] Link checkpoint events to relevant files/actions where possible.

### P0.5 Honesty Guardrails (No Hidden/Optimistic Success)
- [ ] Prevent “success” narration unless command/action exit status confirms success.
- [ ] Always include failure context:
  - failed command
  - exit code
  - stderr snippet
  - next recovery attempt or user action
- [ ] Add tests for false-positive completion prevention.

## P1 (Stretch in v1.0.3, otherwise v1.0.4 carry-over)

- [ ] Commentary density tuning by autonomy mode.
- [ ] Expand/collapse controls for verbose vs concise updates.
- [ ] Save commentary transcript in exports with structured phases.

## Acceptance Criteria

1. Commentary first event appears within 2 seconds of run start.
2. During active runs, a meaningful commentary update appears at least every 10 seconds.
3. Every major tool/shell action has “why this action” + observed outcome.
4. Failure states include command, exit code, and next recovery step.
5. Execution footer remains visible and accurate while user scrolls.
6. No run may emit a final success statement if any critical action failed.

## Test Plan

- [ ] Unit tests for commentary phase/event mapping and formatting contract.
- [ ] Unit tests for success/failure narration guardrails.
- [ ] Integration test for timeline rendering separation (commentary vs actions).
- [ ] E2E smoke on `https://alpha1.bolt.gives` with OpenAI `gpt-5.2-codex`:
  - scaffold React/Vite
  - run dev server
  - verify preview renders
  - verify commentary/phase stream quality
- [ ] E2E smoke on one non-strict provider path.

## Release Checklist

- [ ] `pnpm run typecheck`
- [ ] `pnpm run lint`
- [ ] `pnpm test`
- [ ] targeted E2E pass on alpha1
- [ ] update `CHANGELOG.md`
- [ ] update `README.md` (if user-facing behavior changed)
- [ ] mark completed items in this file with commit references

## v1.0.4 Seed Work (Next Release)

Planned direction for private client-hosted instances + Teams collaboration:

- [ ] Instance bootstrap package (client-isolated deployment)
- [ ] Per-instance secrets/config isolation
- [ ] Team RBAC + shared project collaboration
- [ ] Audit logs for agent actions per user/workspace
- [ ] Private networking and storage guidance for enterprise installs
